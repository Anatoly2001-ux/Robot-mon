# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'gui.ui'
#
# Created by: PyQt5 UI code generator 5.15.11
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QTextEdit
from PyQt5.QtCore import pyqtSignal, QObject
from motion.core import RobotControl

import logging

class UiLogger(logging.Handler):
    def __init__(self, logs):
        super().__init__()
        self.widget = logs
        self.widget.setReadOnly(True)

    def emit(self, record):
        msg = self.format(record)
        self.widget.append(msg)



class UiDialog(object):
    def setupUi(self, Dialog):

        self.logger = logging.getLogger("App")
        self.logger.setLevel(logging.DEBUG)

        self.robot = RobotControl()
        isConnect = self.robot.connect()

        Dialog.setObjectName("Dialog")
        Dialog.resize(1026, 832)

        # Button ON
        self.buttonOn = QtWidgets.QPushButton(Dialog)
        self.buttonOn.setGeometry(QtCore.QRect(10, 20, 71, 21))
        self.buttonOn.setObjectName("buttonOn")

        self.buttonOn.clicked.connect(self.robot.engage)

        self.buttonPause = QtWidgets.QPushButton(Dialog)
        self.buttonPause.setGeometry(QtCore.QRect(10, 50, 71, 21))
        self.buttonPause.setObjectName("buttonPause")

        # Logs
        self.logs = QtWidgets.QTextEdit(Dialog)
        self.logs.setGeometry(QtCore.QRect(10, 660, 551, 171))
        self.logs.setObjectName("logs")

        self.logLoger = UiLogger(self.logs)
        formatter = logging.Formatter("%(asctime)s - %(levelname)s - %(message)s")
        self.logLoger.setFormatter(formatter)
        self.logger.addHandler(self.logs)

        #self.logger.debug("debug")

        if isConnect:            
            self.logs.append("Успешное подключение!")
        else:
            self.logs.append("Ошибка подключения!")

        self.labelLogs = QtWidgets.QLabel(Dialog)
        self.labelLogs.setGeometry(QtCore.QRect(10, 640, 58, 18))
        self.labelLogs.setObjectName("labelLogs")
        self.tableGetCord = QtWidgets.QTableWidget(Dialog)
        self.tableGetCord.setGeometry(QtCore.QRect(100, 20, 451, 71))
        self.tableGetCord.setObjectName("tableGetCord")
        self.tableGetCord.setColumnCount(4)
        self.tableGetCord.setRowCount(1)
        item = QtWidgets.QTableWidgetItem()
        self.tableGetCord.setVerticalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableGetCord.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableGetCord.setHorizontalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableGetCord.setHorizontalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableGetCord.setHorizontalHeaderItem(3, item)
        self.buttonStop = QtWidgets.QPushButton(Dialog)
        self.buttonStop.setGeometry(QtCore.QRect(10, 80, 71, 21))
        self.buttonStop.setObjectName("buttonStop")
        self.buttonCart = QtWidgets.QPushButton(Dialog)
        self.buttonCart.setGeometry(QtCore.QRect(560, 20, 111, 31))
        self.buttonCart.setObjectName("buttonCart")
        self.buttonJoin = QtWidgets.QPushButton(Dialog)
        self.buttonJoin.setGeometry(QtCore.QRect(560, 60, 111, 31))
        self.buttonJoin.setObjectName("buttonJoin")
        self.camera1 = QtWidgets.QOpenGLWidget(Dialog)
        self.camera1.setGeometry(QtCore.QRect(740, 60, 251, 131))
        self.camera1.setObjectName("camera1")
        self.labelCamera = QtWidgets.QLabel(Dialog)
        self.labelCamera.setGeometry(QtCore.QRect(740, 30, 101, 18))
        self.labelCamera.setObjectName("labelCamera")
        self.camera2 = QtWidgets.QOpenGLWidget(Dialog)
        self.camera2.setGeometry(QtCore.QRect(740, 200, 251, 131))
        self.camera2.setObjectName("camera2")
        self.camera3 = QtWidgets.QOpenGLWidget(Dialog)
        self.camera3.setGeometry(QtCore.QRect(740, 340, 251, 131))
        self.camera3.setObjectName("camera3")
        self.slider1 = QtWidgets.QSlider(Dialog)
        self.slider1.setGeometry(QtCore.QRect(10, 160, 20, 160))
        self.slider1.setOrientation(QtCore.Qt.Vertical)
        self.slider1.setObjectName("slider1")
        self.slider2 = QtWidgets.QSlider(Dialog)
        self.slider2.setGeometry(QtCore.QRect(50, 160, 20, 160))
        self.slider2.setOrientation(QtCore.Qt.Vertical)
        self.slider2.setObjectName("slider2")
        self.slider3 = QtWidgets.QSlider(Dialog)
        self.slider3.setGeometry(QtCore.QRect(90, 160, 20, 160))
        self.slider3.setOrientation(QtCore.Qt.Vertical)
        self.slider3.setObjectName("slider3")
        self.slider5 = QtWidgets.QSlider(Dialog)
        self.slider5.setGeometry(QtCore.QRect(170, 160, 20, 160))
        self.slider5.setOrientation(QtCore.Qt.Vertical)
        self.slider5.setObjectName("slider5")
        self.slider6 = QtWidgets.QSlider(Dialog)
        self.slider6.setGeometry(QtCore.QRect(210, 160, 20, 160))
        self.slider6.setOrientation(QtCore.Qt.Vertical)
        self.slider6.setObjectName("slider6")
        self.slider4 = QtWidgets.QSlider(Dialog)
        self.slider4.setGeometry(QtCore.QRect(130, 160, 20, 160))
        self.slider4.setOrientation(QtCore.Qt.Vertical)
        self.slider4.setObjectName("slider4")
        self.labelSlider = QtWidgets.QLabel(Dialog)
        self.labelSlider.setGeometry(QtCore.QRect(10, 130, 101, 18))
        self.labelSlider.setObjectName("labelSlider")
        self.buttonGripperOn = QtWidgets.QPushButton(Dialog)
        self.buttonGripperOn.setGeometry(QtCore.QRect(270, 300, 71, 21))
        self.buttonGripperOn.setObjectName("buttonGripperOn")
        self.labelGripperOn = QtWidgets.QLabel(Dialog)
        self.labelGripperOn.setGeometry(QtCore.QRect(270, 280, 51, 18))
        self.labelGripperOn.setObjectName("labelGripperOn")
        self.comboMoveStyle = QtWidgets.QComboBox(Dialog)
        self.comboMoveStyle.setGeometry(QtCore.QRect(450, 300, 111, 21))
        self.comboMoveStyle.setObjectName("comboMoveStyle")
        self.comboMoveStyle.addItem("")
        self.comboMoveStyle.addItem("")
        self.comboMoveStyle.addItem("")
        self.comboMoveStyle.addItem("")
        self.labelMoveStyle = QtWidgets.QLabel(Dialog)
        self.labelMoveStyle.setGeometry(QtCore.QRect(450, 280, 111, 18))
        self.labelMoveStyle.setObjectName("labelMoveStyle")
        self.indStoped = QtWidgets.QPushButton(Dialog)
        self.indStoped.setGeometry(QtCore.QRect(277, 160, 71, 21))
        self.indStoped.setObjectName("indStoped")
        self.indWork = QtWidgets.QPushButton(Dialog)
        self.indWork.setGeometry(QtCore.QRect(360, 160, 71, 21))
        self.indWork.setObjectName("indWork")
        self.indWait = QtWidgets.QPushButton(Dialog)
        self.indWait.setGeometry(QtCore.QRect(530, 160, 71, 21))
        self.indWait.setObjectName("indWait")
        self.indOff = QtWidgets.QPushButton(Dialog)
        self.indOff.setGeometry(QtCore.QRect(447, 160, 71, 21))
        self.indOff.setObjectName("indOff")
        self.loop = QtWidgets.QCheckBox(Dialog)
        self.loop.setGeometry(QtCore.QRect(280, 210, 88, 22))
        self.loop.setObjectName("loop")
        self.tableState = QtWidgets.QTableWidget(Dialog)
        self.tableState.setGeometry(QtCore.QRect(10, 360, 681, 161))
        self.tableState.setObjectName("tableState")
        self.tableState.setColumnCount(6)
        self.tableState.setRowCount(4)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setVerticalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setVerticalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setVerticalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setVerticalHeaderItem(3, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setHorizontalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setHorizontalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setHorizontalHeaderItem(3, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setHorizontalHeaderItem(4, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableState.setHorizontalHeaderItem(5, item)
        self.indRed = QtWidgets.QPushButton(Dialog)
        self.indRed.setGeometry(QtCore.QRect(740, 530, 71, 21))
        self.indRed.setObjectName("indRed")
        self.indYel = QtWidgets.QPushButton(Dialog)
        self.indYel.setGeometry(QtCore.QRect(740, 560, 71, 21))
        self.indYel.setObjectName("indYel")
        self.indGreen = QtWidgets.QPushButton(Dialog)
        self.indGreen.setGeometry(QtCore.QRect(740, 590, 71, 21))
        self.indGreen.setObjectName("indGreen")
        self.indBlue = QtWidgets.QPushButton(Dialog)
        self.indBlue.setGeometry(QtCore.QRect(740, 620, 71, 21))
        self.indBlue.setObjectName("indBlue")
        self.indRect = QtWidgets.QPushButton(Dialog)
        self.indRect.setGeometry(QtCore.QRect(870, 560, 71, 21))
        self.indRect.setObjectName("indRect")
        self.indSquare = QtWidgets.QPushButton(Dialog)
        self.indSquare.setGeometry(QtCore.QRect(870, 530, 71, 21))
        self.indSquare.setObjectName("indSquare")
        self.indTriang = QtWidgets.QPushButton(Dialog)
        self.indTriang.setGeometry(QtCore.QRect(870, 590, 71, 21))
        self.indTriang.setObjectName("indTriang")
        self.labelColor = QtWidgets.QLabel(Dialog)
        self.labelColor.setGeometry(QtCore.QRect(750, 500, 51, 18))
        self.labelColor.setObjectName("labelColor")
        self.labelForm = QtWidgets.QLabel(Dialog)
        self.labelForm.setGeometry(QtCore.QRect(880, 500, 51, 18))
        self.labelForm.setObjectName("labelForm")
        self.code = QtWidgets.QCheckBox(Dialog)
        self.code.setGeometry(QtCore.QRect(740, 660, 201, 22))
        self.code.setObjectName("code")
        self.tableSetCoord = QtWidgets.QTableWidget(Dialog)
        self.tableSetCoord.setGeometry(QtCore.QRect(10, 560, 451, 71))
        self.tableSetCoord.setObjectName("tableSetCoord")
        self.tableSetCoord.setColumnCount(4)
        self.tableSetCoord.setRowCount(1)
        item = QtWidgets.QTableWidgetItem()
        self.tableSetCoord.setVerticalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableSetCoord.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableSetCoord.setHorizontalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableSetCoord.setHorizontalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableSetCoord.setHorizontalHeaderItem(3, item)
        self.labelSetCoord = QtWidgets.QLabel(Dialog)
        self.labelSetCoord.setGeometry(QtCore.QRect(10, 540, 151, 18))
        self.labelSetCoord.setObjectName("labelSetCoord")
        self.lableState = QtWidgets.QLabel(Dialog)
        self.lableState.setGeometry(QtCore.QRect(10, 340, 151, 18))
        self.lableState.setObjectName("lableState")

        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "Dialog"))
        self.buttonOn.setText(_translate("Dialog", "On"))
        self.buttonPause.setText(_translate("Dialog", "Pause"))
        self.labelLogs.setText(_translate("Dialog", "Логи"))
        item = self.tableGetCord.verticalHeaderItem(0)
        item.setText(_translate("Dialog", "Pose"))
        item = self.tableGetCord.horizontalHeaderItem(0)
        item.setText(_translate("Dialog", "X"))
        item = self.tableGetCord.horizontalHeaderItem(1)
        item.setText(_translate("Dialog", "Y"))
        item = self.tableGetCord.horizontalHeaderItem(2)
        item.setText(_translate("Dialog", "Z"))
        item = self.tableGetCord.horizontalHeaderItem(3)
        item.setText(_translate("Dialog", "захват"))
        self.buttonStop.setText(_translate("Dialog", "Stop"))
        self.buttonCart.setText(_translate("Dialog", "Manual Cart"))
        self.buttonJoin.setText(_translate("Dialog", "Manual Join"))
        self.labelCamera.setText(_translate("Dialog", "Видео с камер"))
        self.labelSlider.setText(_translate("Dialog", "For manual"))
        self.buttonGripperOn.setText(_translate("Dialog", "On"))
        self.labelGripperOn.setText(_translate("Dialog", "Захват"))
        self.comboMoveStyle.setItemText(0, _translate("Dialog", "Move L"))
        self.comboMoveStyle.setItemText(1, _translate("Dialog", "Move R"))
        self.comboMoveStyle.setItemText(2, _translate("Dialog", "Move UP"))
        self.comboMoveStyle.setItemText(3, _translate("Dialog", "Move DN"))
        self.labelMoveStyle.setText(_translate("Dialog", "Стиль движения"))
        self.indStoped.setText(_translate("Dialog", "Stoped"))
        self.indWork.setText(_translate("Dialog", "Work"))
        self.indWait.setText(_translate("Dialog", "Wait"))
        self.indOff.setText(_translate("Dialog", "Off"))
        self.loop.setText(_translate("Dialog", "Цикл"))
        item = self.tableState.verticalHeaderItem(0)
        item.setText(_translate("Dialog", "Тики"))
        item = self.tableState.verticalHeaderItem(1)
        item.setText(_translate("Dialog", "Радианы"))
        item = self.tableState.verticalHeaderItem(2)
        item.setText(_translate("Dialog", "Градусы"))
        item = self.tableState.verticalHeaderItem(3)
        item.setText(_translate("Dialog", "Тем-ра"))
        item = self.tableState.horizontalHeaderItem(0)
        item.setText(_translate("Dialog", "1"))
        item = self.tableState.horizontalHeaderItem(1)
        item.setText(_translate("Dialog", "2"))
        item = self.tableState.horizontalHeaderItem(2)
        item.setText(_translate("Dialog", "3"))
        item = self.tableState.horizontalHeaderItem(3)
        item.setText(_translate("Dialog", "4"))
        item = self.tableState.horizontalHeaderItem(4)
        item.setText(_translate("Dialog", "5"))
        item = self.tableState.horizontalHeaderItem(5)
        item.setText(_translate("Dialog", "6"))
        self.indRed.setText(_translate("Dialog", "Красный "))
        self.indYel.setText(_translate("Dialog", "Желтый"))
        self.indGreen.setText(_translate("Dialog", "Зеленый "))
        self.indBlue.setText(_translate("Dialog", "Синий"))
        self.indRect.setText(_translate("Dialog", "Квадрат"))
        self.indSquare.setText(_translate("Dialog", "Круг"))
        self.indTriang.setText(_translate("Dialog", "Треуг"))
        self.labelColor.setText(_translate("Dialog", "Цвет"))
        self.labelForm.setText(_translate("Dialog", "Форма"))
        self.code.setText(_translate("Dialog", "Считывание штрихкодов"))
        item = self.tableSetCoord.verticalHeaderItem(0)
        item.setText(_translate("Dialog", "Pose"))
        item = self.tableSetCoord.horizontalHeaderItem(0)
        item.setText(_translate("Dialog", "X"))
        item = self.tableSetCoord.horizontalHeaderItem(1)
        item.setText(_translate("Dialog", "Y"))
        item = self.tableSetCoord.horizontalHeaderItem(2)
        item.setText(_translate("Dialog", "Z"))
        item = self.tableSetCoord.horizontalHeaderItem(3)
        item.setText(_translate("Dialog", "захват"))
        self.labelSetCoord.setText(_translate("Dialog", "Задать координаты"))
        self.lableState.setText(_translate("Dialog", "Состояние моторов"))
        
    def engage_robot(self):
        self.robot.engage()


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Dialog = QtWidgets.QDialog()
    ui = UiDialog()
    ui.setupUi(Dialog)
    Dialog.show()
    sys.exit(app.exec_())
